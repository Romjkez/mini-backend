{"openapi":"3.0.0","info":{"title":"MINI Backend","description":"API of the MINI mobile app and admin panel","version":"0.1.0","contact":{"name":"Roman Meshkov","url":"","email":"meshkov.ra@yandex.com"},"license":{"name":"CC BY-NC-SA","url":"https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"firstName":{"type":"string","example":"John","nullable":false,"description":"First name"},"lastName":{"type":"string","example":"Doe","nullable":false,"description":"Last name"},"email":{"type":"string","example":"john@doe.com","nullable":false,"description":"Email"},"company":{"type":"string","example":"Avilon NY","description":"Employer of user"}},"required":["firstName","lastName","email"]},"User":{"type":"object","properties":{"id":{"type":"number","example":228,"description":"Unique identifier"},"firstName":{"type":"string","example":"John","description":"First name"},"lastName":{"type":"string","example":"Doe","description":"Last name"},"email":{"type":"string","example":"john@doe.com","description":"Email"},"company":{"type":"string","example":"Avilon NY","description":"Employer of user"},"createdAt":{"format":"date-time","type":"string","readOnly":true,"description":"Account creation date"},"updatedAt":{"format":"date-time","type":"string","readOnly":true,"description":"Last account update"},"isPrivate":{"type":"boolean","description":"If user prefers to hide profile from users rating"},"bannedAt":{"format":"date-time","type":"string","description":"Account ban date-time (activation status)"},"rating":{"type":"number","example":4.51,"description":"Average test score"},"finishedArticles":{"example":[],"type":"array","items":{"type":"object"}},"finishedTests":{"example":[],"type":"array","items":{"type":"object"}},"role":{"type":"string","enum":["ADMIN","EMPLOYEE"],"example":"EMPLOYEE"}},"required":["id","firstName","lastName","email","company","createdAt","updatedAt","isPrivate","bannedAt","rating","finishedArticles","finishedTests","role"]},"CreateUserBulkDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CreateUserDto"}}},"required":["data"]},"UserSortDto":{"type":"object","properties":{"firstName":{"type":"string","description":"First name","enum":["ASC","DESC"]},"lastName":{"type":"string","description":"Last name","enum":["ASC","DESC"]},"email":{"type":"string","description":"Email","enum":["ASC","DESC"]},"company":{"type":"string","description":"Employer of user","enum":["ASC","DESC"]},"isPrivate":{"type":"string","description":"If user prefers to hide profile from users rating","enum":["ASC","DESC"]},"rating":{"type":"string","description":"Average test score","enum":["ASC","DESC"]}}},"UserFilterDto":{"type":"object","properties":{"firstName":{"type":"string","description":"First name","example":"John"},"lastName":{"type":"string","description":"Last name","example":"Doe"},"email":{"type":"string","description":"Email","example":"john@doe.com"},"company":{"type":"string","description":"Employer of user","example":"Avilon NY"},"isPrivate":{"type":"boolean","description":"If user prefers to hide profile from users rating"},"role":{"type":"string","description":"User role","enum":["ADMIN","EMPLOYEE"]}}},"GetManyUsersDto":{"type":"object","properties":{"page":{"type":"number","description":"Number of page to show","example":1,"minimum":1,"default":1},"perPage":{"type":"number","description":"Number of items to return per page","example":15,"maximum":100,"minimum":1,"default":15},"sort":{"$ref":"#/components/schemas/UserSortDto"},"filter":{"$ref":"#/components/schemas/UserFilterDto"}}},"GetManyResponseDto":{"type":"object","properties":{"data":{"example":[],"type":"array","items":{"type":"object"}},"page":{"type":"number","example":1},"perPage":{"type":"number","example":15},"totalItems":{"type":"number","example":228}},"required":["data","page","perPage","totalItems"]},"ChangePasswordDto":{"type":"object","properties":{"oldPassword":{"type":"string","example":"444555","nullable":false},"newPassword":{"type":"string","example":"qwerty123!","nullable":false}},"required":["oldPassword","newPassword"]},"UpdateUserDto":{"type":"object","properties":{"firstName":{"type":"string","example":"John","nullable":false,"description":"First name"},"lastName":{"type":"string","example":"Doe","nullable":false,"description":"Last name"},"email":{"type":"string","example":"john@doe.com","nullable":false,"description":"Email"},"company":{"type":"string","example":"Avilon NY","description":"User employment company"},"isPrivate":{"type":"boolean","description":"If user prefers to hide profile from users rating"}}},"CreateArticleDto":{"type":"object","properties":{"title":{"type":"string","example":"История основателей MINI"},"content":{"type":"string","example":"Леонард Перси Лорд, 1-й барон Lambury KBE 1896 года рождения был значимым человеком в британской автомобильной промышленности. Окончил школу с внушительным техническим уклоном, однако в 16 лет вынужден был уйти в свободное плавание после потери отца. \n\nВ это время Лорд начинает активно применять полученные в школе технические знания, и уже 1923 году попал в фирму Morris Motors Limited, где помогал оптимизировать все этапы процесса производства. В 1927 году, когда Моррис приобрел права на управление компанией Wolseley Motors Limited, Леонарда перевели туда с целью совершенствования своего технического оснащения и технологических процессов. Уже в 1932 году его назначают генеральным менеджером в фирме Morris Motors. Всего через год, в 1933 году благодаря своей эффективности Леонард Лорд получает место управляющего директора всей компании Morris Motors Limited и становится вскоре титулованным мультимиллионером."},"previewUrl":{"type":"string","example":"https://avtotachki.com/wp-content/uploads/2020/12/37.jpg"}},"required":["title","content"]},"GetManyArticlesDto":{"type":"object","properties":{"page":{"type":"number","description":"Number of page to show","example":1,"minimum":1,"default":1},"perPage":{"type":"number","description":"Number of items to return per page","example":15,"maximum":100,"minimum":1,"default":15}}},"UpdateArticleDto":{"type":"object","properties":{"title":{"type":"string","example":"История основателей MINI"},"content":{"type":"string","example":"Леонард Перси Лорд, 1-й барон Lambury KBE 1896 года рождения был значимым человеком в британской автомобильной промышленности. Окончил школу с внушительным техническим уклоном, однако в 16 лет вынужден был уйти в свободное плавание после потери отца. \n"},"previewUrl":{"type":"string","example":"https://avtotachki.com/wp-content/uploads/2021/02/mini-hatchback-electric-2019.jpg"},"isVisible":{"type":"boolean","description":"Is article visible in articles list"}}},"CreateQuestionBulkDto":{"type":"object","properties":{}},"ValidateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"john@doe.com"},"password":{"type":"string","example":"qwerty123"}},"required":["email","password"]},"JwtToken":{"type":"object","properties":{"accessToken":{"type":"string","example":"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjQzLCJsb2dpbiI6Im1AZG9lLmNvbSIsInJvbGUiOiJFTVBMT1lFRSIsImlhdCI6MTYxNTIyMTI2MCwiZXhwIjoxNjE1MjI0ODYwfQ.3O67ewX8Vu1BG3JIUMuEZXQPCBq8qU68l9PJE8AMMZ7tluAsvbIVD90kl5_BJXqKlH8iSCASUOwddKoWsBGvAA"},"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJsb2dpbiI6Im1AZG9lLmNvbSIsInJvbGUiOiJFTVBMT1lFRSIsInN1YiI6NDMsImlhdCI6MTYxNTIyMDk4MCwiZXhwIjoxNjE3ODEyOTgwfQ.ydGKeyBAYEp6aZ8W-_YZYDI06hRk93p2qiD9w1EA-_MlB0jhk1INVd0h19aNGUPb9UnwoOdp597fl2EbRCuqrQ"}},"required":["accessToken","refreshToken"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","example":"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjQzLCJsb2dpbiI6Im1AZG9lLmNvbSIsInJvbGUiOiJFTVBMT1lFRSIsImlhdCI6MTYxNTIyMTE2MCwiZXhwIjoxNjE1MjI0NzYwfQ.6pquKF5i6QbW2qcGsxc7TWGZCLi2qij4cT9oL3rvKlcWTPJf5baSfNRSRkbxh9yyfUslHINnL5LSlkM5am7Ofg"}},"required":["refreshToken"]}}},"paths":{"/":{"get":{"operationId":"AppController_getInfo","parameters":[],"responses":{"200":{"description":""}}}},"/user":{"post":{"operationId":"UserController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"],"security":[{"bearer":[]}]}},"/user/bulk":{"post":{"operationId":"UserController_createBulk","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserBulkDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["user"],"security":[{"bearer":[]}]}},"/user/{id}":{"get":{"operationId":"UserController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"],"security":[{"bearer":[]}]},"put":{"operationId":"UserController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"],"security":[{"bearer":[]}]},"delete":{"operationId":"UserController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["user"],"security":[{"bearer":[]}]}},"/user/getMany":{"post":{"operationId":"UserController_getMany","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetManyUsersDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetManyResponseDto"}}}}},"tags":["user"],"security":[{"bearer":[]}]}},"/user/{id}/password":{"put":{"operationId":"UserController_changePassword","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"200":{"description":""}},"tags":["user"],"security":[{"bearer":[]}]}},"/user/{id}/activate":{"post":{"operationId":"UserController_activate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["user"],"security":[{"bearer":[]}]}},"/user/{id}/deactivate":{"post":{"operationId":"UserController_deactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["user"],"security":[{"bearer":[]}]}},"/article":{"post":{"operationId":"ArticleController_createOne","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateArticleDto"}}}},"responses":{"201":{"description":""}},"tags":["article"]}},"/article/{id}":{"get":{"operationId":"ArticleController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["article"]},"put":{"operationId":"ArticleController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateArticleDto"}}}},"responses":{"200":{"description":""}},"tags":["article"]},"delete":{"operationId":"ArticleController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["article"]}},"/article/{articleId}/finishedBy/{userId}":{"post":{"operationId":"ArticleController_addFinishedBy","parameters":[{"name":"articleId","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":""}},"tags":["article"]}},"/article/{id}/hide":{"post":{"operationId":"ArticleController_hide","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["article"]}},"/article/{id}/show":{"post":{"operationId":"ArticleController_show","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["article"]}},"/article/getMany":{"post":{"operationId":"ArticleController_getMany","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetManyArticlesDto"}}}},"responses":{"200":{"description":""}},"tags":["article"]}},"/question/bulk":{"post":{"operationId":"QuestionController_createBulk","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuestionBulkDto"}}}},"responses":{"201":{"description":""}},"tags":["question"]}},"/question/{id}":{"get":{"operationId":"QuestionController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["question"]},"put":{"operationId":"QuestionController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["question"]},"delete":{"operationId":"QuestionController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["question"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtToken"}}}}},"tags":["auth"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtToken"}}}}},"tags":["auth"]}}}}